(this["webpackJsonpuphoria-client"]=this["webpackJsonpuphoria-client"]||[]).push([[0],{112:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgMAAAHzCAYAAAC9oR7TAAAACXBIWXMAAAsTAAALEwEAmpwYAAAF92lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDggNzkuMTY0MDM2LCAyMDE5LzA4LzEzLTAxOjA2OjU3ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjEuMCAoTWFjaW50b3NoKSIgeG1wOkNyZWF0ZURhdGU9IjIwMjAtMDktMTBUMTg6MDQ6MDUtMDQ6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDIwLTA5LTEwVDE4OjIzOjMxLTA0OjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDIwLTA5LTEwVDE4OjIzOjMxLTA0OjAwIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgcGhvdG9zaG9wOklDQ1Byb2ZpbGU9InNSR0IgSUVDNjE5NjYtMi4xIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOmU5MmFkYTBkLWU1YmUtNGYzZC1iY2I5LTYzYjcyZDEyNzc1OSIgeG1wTU06RG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOjUwYzczYTUzLTI0NTgtOGM0NS04MzdmLTNhMzFjMmY0NWRiYSIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOjgyNThhMWM2LWRiY2QtNDU4Ny1iYTFlLWE3NWU0NTcwZTRiZCI+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNyZWF0ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6ODI1OGExYzYtZGJjZC00NTg3LWJhMWUtYTc1ZTQ1NzBlNGJkIiBzdEV2dDp3aGVuPSIyMDIwLTA5LTEwVDE4OjA0OjA1LTA0OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjEuMCAoTWFjaW50b3NoKSIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6ZTkyYWRhMGQtZTViZS00ZjNkLWJjYjktNjNiNzJkMTI3NzU5IiBzdEV2dDp3aGVuPSIyMDIwLTA5LTEwVDE4OjIzOjMxLTA0OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjEuMCAoTWFjaW50b3NoKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz58vjMfAAALmUlEQVR4nO3bzVIcRwJG0daE/P4P7IlgFhOyLQNSU11V+XPP2UMnq7wkH9/e3t4eAEDXf0YfAAAYSwwAQJwYAIA4MQAAcWIAAOLEAADEiQEAiBMDABAnBgAgTgwAQJwYAIA4MQAAcWIAAOLEAADEiQEAiBMDABAnBgAgTgwAQJwYAIA4MQAAcWIAAOLEAADEiQEAiBMDABAnBgAgTgwAQJwYAIA4MQAAcWIAAOLEAADEiQEAiBMDABAnBgAgTgwAQJwYAIA4MQAAcWIAAOLEAADEiQEAiBMDABAnBgAgTgwAQJwYAIA4MQAAcWIAAOLEAADEiQEAiPs++gC7+u+ff44+AvC5twNf8+3oh33/44+jXwq3EANAxZEA+OzrD4cBzMifCYCCV0Pgo+939veEYcQAsLOrL21BwBbEALCruy5qQcDybAaA3Yy4nH98pi0BS/IyAOxk9G/poz8fDhEDwC5cxHCQGAB2MFMIzHQWeIoYAFY267/4zXgm+JQYAFblwoWTiAFgRSuEwApnhMfjIQaA9bhk4WRiAFjFrPuAX1ntvESJAWAFLlW4kBgAZicE4GJiAJiZEIAbiAFgRivuAz6zy8/BxsQAMBuXJ9xMDAAzEQIwgBgAZiEEYJDvow8A5IkAGMzLADCSEIAJiAFgFCEAkxADwAhCACZiMwDcSQTAhLwMAHcRAjApMQDcQQjAxMQAcDUhAJOzGQCuIgJgEV4GgCsIAViIGADOJgRgMWIAOJMQgAXZDABnEAGwMC8DwKuEACxODACvEAKwATEAHCUEYBM2A8BXiQDYjJcB4CuEAGxIDADPEgKwKTEAPEMIwMZsBoBfEQEQ4GUA+IwQgAgxAHxECECIGAD+TQhAjM0A8IMIgCgvA8DjIQQgTQwAQgDixAC0CQHAZgCiRADwFy8D0CMEgJ+IAWgRAsA7YgA6hADwIZsB2J8IAH7JywDsTQgAvyUGYF9CAHiKGIA9CQHgaTYDsBcRAHyZlwHYhxAADhEDsAchABwmBmB9QgB4ic0ArEsEAKfwMgBrEgLAacQArEcIAKcSA7AWIQCczmYA1iACgMt4GYD5CQHgUmIA5iYEgMuJAZiXEABuYTMA8xEBwK28DMBchABwOzEA8xACwBBiAOYgBIBhbAZgLBEADOdlAMYRAsAUxACMIQSAaYgBuJ8QAKZiMwD3EQHAlLwMwD2EADAtMQDXEwLA1MQAXEsIANOzGYBriABgGV4G4HxCAFiKGIBzCQFgOWIAziMEgCXZDMDrRACwNC8D8BohACxPDMBxQgDYghiAY4QAsA2bAfgaEQBsx8sAPE8IAFsSA/AcIQBsSwzA7wkBYGs2A/A5EQAkeBmAjwkBIEMMwHtCAEgRA/AzIQDk2AzA/4kAIMvLAAgBIE4MUCcEgDwxQJkQAHjYDKzCpQXAZcTAfFz8ANxKDMxDBAAwhBgYTwQAMJQB4VhCAIDhvAyMIQIAmIaXgfsJAQCmIgbuJQQAmI4YuI8QAGBKYgAA4sTAPbwKADAtMQAAcWLgel4FAJiaGACAODFwLa8CAExPDABAnBgAgDgxAABxYuA69gIALEEMAECcGACAODEAAHFiAADixAAAxIkBAIgTAwAQJwYAIE4MAECcGACAODEAAHFiAADixAAAxIkBAIgTAwAQJwYAIE4MAECcGACAODEAAHFiAADixAAAxIkBAIgTAwAQJwYAIE4MAECcGACAODEAAHFiAADixAAAxIkBAIgTAwAQJwYAIE4MAECcGACAODEAAHFiAADixAAAxIkBAIgTAwAQJwYAIE4MAECcGACAODEAAHFiAADixAAAxIkBAIgTAwAQJwYAIE4MAECcGACAODEAAHFiAADixAAAxIkBAIgTAwAQJwYAIE4MAECcGACAODEAAHFiAADixAAAxIkBAIgTAwAQJwYAIE4MAECcGACAODEAAHFiAADixAAAxIkBAIgTAwAQJwYAIE4MAECcGACAODEAAHFiAADixAAAxIkBAIgTAwAQJwYAIE4MAECcGACAODEAAHFiAADixAAAxIkBAIgTAwAQJwYAIE4MAECcGACAODEAAHFiAADixAAAxIkBAIgTAwAQJwYAIE4MAECcGACAODEAAHFiAADixAAAxIkBAIgTAwAQJwYAIE4MAECcGACAODEAAHFiAADixAAAxIkBAIgTAwAQJwYAIE4MAECcGACAODEAAHFiAADixAAAxIkBAIgTAwAQJwYAIE4MAECcGACAODEAAHFiAADixAAAxIkBAIgTAwAQJwYAIE4MAECcGACAODEAAHFiAADixAAAxIkBAIgTAwAQJwYAIE4MAECcGACAODEAAHFiAADixAAAxIkBAIgTAwAQJwYAIE4MAECcGACAODEAAHFiAADixAAAxIkBAIgTAwAQJwau8230AQDgGWIAAOLEAADEiQEAiBMD17IbAGB6YgAA4sTA9bwOADA1MQAAcWLgHl4HAJiWGACAODFwH68DAExJDNxLEAAwHTFwP0EAwFTEwBjfHqIAgEmIgbEEAQDDiYHxvBIAMJQYmIcoAGCI76MPwDsfBcHb7acAIEMMrMGLwTVEFsDDnwloE1kADzEAggDIEwNgvAnEiQH4myAAksQA/EwQADliAN4TBECKGICP2REAGWIAfk0QANsTA/B7ggDYmhiA5wgCYFtiAJ5nRwBsSQzA1wkCYCtiAI4RBMA2xAAcJwiALYgBeI0dAbA8MQDnEATAssQAnEcQAEsSA3AuQQAsRwzA+ewIgKWIAbiOIACWIAbgWoIAmJ4YgOsJAmBqYgDuYUcATEsMwL0EATAdMQD3EwTAVMQAjCEIgGmIARjHjgCYghiA8QQBMJQYgDkIAmAYMQDzEATAEGIA5mJHANxODMCcBAFwGzEA8xIEwC3EAMxNEACXEwMwPzsC4FJiANYhCIBLiAFYiyAATicGYD2CADiVGIA12REApxEDsDZBALxMDMD6BAHwEjEAexAEwGFiAPZhRwAcIgZgP4IA+BIxAHsSBMDTxADsSxAATxEDsDc7AuC3xAA0CALgU2IAOgQB8CExAC2CAHhHDECPHQHwEzEAXYIAeDweYgDqBAEgBgBBAHViAHg87AggTQwA/yQIIEgMAP8mCCBGDAAfEQQQIgaAzwgCiBADwK8YFkKAGACeIQhgY2IAeJYggE2JAeArBAFsSAwAX2VHAJsRA8BRggA2IQaAVwgC2IAYAF4lCGBxYgA4gx0BLEwMAGcSBLAgMQCcTRDAYsQAcAVBAAsRA8BV7AhgEWIAuJoggMmJAeAOggAmJgaAuwgCmJQYAO5kRwATEgPACIIAJiIGgFEEAUxCDAAjCQKYgBgARrMjgMHEADALQQCDiAFgJoIABhADwGwEAdxMDAAz2mlHsMvPwcbEADAzFyncQAwAsxMEcDExAKxAEMCFxACwihV3BKudlygxAKzGBQsnEwPAilYIghXOCI/HQwwA63LZwknEALCyWXcEM54JPiUGgB3MdPnOdBZ4ihgAduEShoPEALCT0UEw+vPhkO+jDwBwsh8X8tuAz4QleRkAdnXXBS0EWJ4YAHZ29X8bCAG2IAaAgrMv7Vn/pREOsRkAKv55eR/ZE7j82da3t7c7NzYAwGz8mQAA4sQAAMSJAQCIEwMAECcGACBODABAnBgAgDgxAABxYgAA4sQAAMSJAQCIEwMAECcGACBODABAnBgAgDgxAABxYgAA4sQAAMSJAQCIEwMAECcGACBODABAnBgAgDgxAABxYgAA4sQAAMSJAQCIEwMAECcGACBODABAnBgAgDgxAABxYgAA4sQAAMSJAQCIEwMAECcGACBODABAnBgAgDgxAABxYgAA4sQAAMSJAQCIEwMAECcGACBODABAnBgAgDgxAABxYgAA4sQAAMSJAQCIEwMAECcGACBODABAnBgAgDgxAABxYgAA4sQAAMSJAQCIEwMAEPc/dBKTNFfumR8AAAAASUVORK5CYII="},115:function(e,t,n){e.exports=n.p+"static/media/instagram.46ce74c2.svg"},116:function(e,t,n){e.exports=n.p+"static/media/link.262c1a29.svg"},118:function(e,t,n){e.exports=n.p+"static/media/ulogo.4da78c22.png"},131:function(e,t,n){e.exports=n(163)},136:function(e,t,n){},137:function(e,t,n){},138:function(e,t,n){},145:function(e,t,n){},149:function(e,t,n){},150:function(e,t,n){},153:function(e,t,n){},154:function(e,t,n){},155:function(e,t,n){},156:function(e,t,n){},157:function(e,t,n){},163:function(e,t,n){"use strict";n.r(t);var a=n(60),r=n(0),i=n.n(r),A=n(52),c=n.n(A),o=n(22),l=(n(136),n(16)),u=n(8),s=n(17),m=(n(137),n(61)),g=n(187),E=n(188),d=n(189),p=n(107),b=n.n(p),f=n(108),I=n.n(f),h=n(109),w=n.n(h),v=(n(138),Object(g.a)((function(e){var t;return{root:(t={},Object(m.a)(t,e.breakpoints.down("sm"),{width:"100%",bottom:0,position:"fixed",zIndex:10}),Object(m.a)(t,e.breakpoints.up("md"),{width:"100%",height:"100%",bottom:0,zIndex:10}),t)}}))),C=function(){var e=v(),t=i.a.useState("home"),n=Object(u.a)(t,2),a=n[0],r=n[1];return i.a.createElement("div",{className:"btm-nav"},i.a.createElement(E.a,{value:a,onChange:function(e,t){r(t)},showLabels:!0,className:e.root},i.a.createElement(d.a,{value:"home",component:o.b,to:{pathname:"/",triggerRefetch:!0},label:"Home",icon:i.a.createElement(b.a,null)}),i.a.createElement(d.a,{value:"upload",component:o.b,to:"/create",label:"Upload",icon:i.a.createElement(I.a,null)}),i.a.createElement(d.a,{value:"profile",component:o.b,to:"/profile",label:"Profile",icon:i.a.createElement(w.a,null)})))},D=n(74),O=n.n(D),B="uphoriaHeroku",M=function(e){return i.a.createElement("div",{className:"videoFooter"},i.a.createElement("div",{className:"videoFooter-text"},i.a.createElement("p",null,"@",e.username),i.a.createElement("p",null,e.description)))},j=(n(145),n(27)),x=n.n(j),Q=n(38),S=n(199),Y=Object(g.a)((function(e){return{root:{display:"flex","& > *":{margin:e.spacing(1)},large:{width:e.spacing(7),height:e.spacing(7)}}}})),k=function(e){var t=Y();return i.a.createElement("div",{className:"video-avi"},i.a.createElement(o.b,{to:{pathname:"/profile",userId:e.userId}},i.a.createElement(S.a,{alt:"Remy Sharp",src:"https://www.gamersdecide.com/sites/default/files/styles/news_images/public/ezgif.com-gif-maker.jpg",className:t.large})))},G=n(190),y=n(110),N=n.n(y),T=function(e){return i.a.createElement("div",{className:"share-btn"},i.a.createElement("label",{htmlFor:"icon-button-file"},i.a.createElement(G.a,{label:"share-btn",component:"span",onClick:e.handleShare},i.a.createElement(N.a,null))),i.a.createElement("p",null,e.shares))},J=n(111),L=n.n(J),U=function(e){var t=Object(r.useState)("default"),n=Object(u.a)(t,2),a=n[0],A=n[1];return Object(r.useEffect)((function(){e.likes.includes(e.userId)?A("secondary"):A("default")}),[e.userId,e.likes]),i.a.createElement("div",{className:"like-btn"},i.a.createElement("label",{htmlFor:""},i.a.createElement(G.a,{color:a,label:"like-btn",component:"span",onClick:function(t){e.handleLike()}},i.a.createElement(L.a,null))),i.a.createElement("p",null,e.likes.length))},F=(n(94),n(15)),R=n.n(F),z=n(78),H=n(112),Z=n.n(H),W=n(87),P=n.n(W),V=function(e){var t=Object(r.useState)(P.a),n=Object(u.a)(t,2),a=n[0],A=n[1];return Object(r.useEffect)((function(){e.muted?A(P.a):A(Z.a)}),[e.muted]),i.a.createElement("div",null,i.a.createElement("img",{src:a,onClick:e.handleMute,className:"muteLogo",alt:"mute/unmute"}))};function X(){var e=Object(l.a)(["\n  mutation($id: ID!, $isSharing: Boolean!) {\n    updateVideo(id: $id, isSharing: $isSharing) {\n      shares\n    }\n  }\n"]);return X=function(){return e},e}function $(){var e=Object(l.a)(["\n  mutation($id: ID!, $isLiking: Boolean, $isUnliking: Boolean) {\n    updateVideo(id: $id, isLiking: $isLiking, isUnliking: $isUnliking) {\n      likes\n    }\n  }\n"]);return $=function(){return e},e}var K=R()($()),_=R()(X()),q=function(e){var t=Object(r.useState)(e.likes),n=Object(u.a)(t,2),a=n[0],A=n[1],c=Object(r.useState)(e.shares),o=Object(u.a)(c,2),l=o[0],s=o[1],m=Object(z.a)(K),g=Object(u.a)(m,1)[0],E=Object(z.a)(_),d=Object(u.a)(E,1)[0],p=function(){var t=Object(Q.a)(x.a.mark((function t(){var n;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=a.includes(e.currentUser._id)?{id:e.videoId,isUnliking:!0}:{id:e.videoId,isLiking:!0},g({variables:n}).then((function(e){var t=e.data.updateVideo.likes;A(t)})).catch((function(e){return console.log("Failed on like update: ",e)}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),b=function(){var t=Object(Q.a)(x.a.mark((function t(){var n,a;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d({variables:{id:e.videoId,isSharing:!0}});case 2:n=t.sent,(a=n.data.updateVideo.shares)>l?s(a):console.log("Failed to share video");case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return i.a.createElement("div",{className:"side-bar"},i.a.createElement(k,{userId:e.userId}),i.a.createElement(U,{likes:a,handleLike:p,userId:e.currentUser._id}),i.a.createElement(T,{shares:l,handleShare:b}),i.a.createElement(V,{muted:e.muted,handleMute:e.handleMute}))},ee=(n(123),n(200)),te=n(197),ne=n(192),ae=(n(191),n(196),n(149),function(e){var t=Object(r.useState)(0),n=Object(u.a)(t,2),a=n[0],A=n[1];return i.a.createElement("div",{className:"header-tab"},i.a.createElement(ee.a,{position:"static",color:"transparent"},i.a.createElement(te.a,{value:a,onChange:function(e,t){A(t)},indicatorColor:"primary",textColor:"primary",variant:"fullWidth","aria-label":"action tabs example"},i.a.createElement(ne.a,{label:"Following"}),i.a.createElement(ne.a,{label:"Hashtags"}))))}),re=function(e){var t=Object(r.useState)(!0),n=Object(u.a)(t,2),a=n[0],A=n[1],c=e.video;return i.a.createElement("div",{className:"videos"},i.a.createElement(ae,null),i.a.createElement("div",{className:"Video-Container",key:c.id},i.a.createElement(q,{currentUser:e.currentUser,videoId:c.id,userId:c.userId.id,likes:c.likes,shares:c.shares,muted:a,handleMute:function(){A(!a)}}),i.a.createElement(M,{username:c.userId.username,description:c.description}),i.a.createElement("video",{className:"videoPlayer",src:"https://res.cloudinary.com/agregis/video/upload/c_scale,g_south_west,l_logo_transparent_wvrps0,w_144/".concat(c.videoUrl,".mp4"),loop:!0,autoPlay:!0,muted:a,onTouchEnd:function(){A(!0)}})))},ie=n(193),Ae=Object(g.a)((function(e){return{root:{marginBottom:"5vh",border:"1px solid #736f72"},row:{},item:{paddingBottom:"0px",border:"1px solid #736f72"},video:{paddingTop:"5px",paddingBottom:"0px",height:"208px",textAlign:"center",width:"100%",position:"relative"}}})),ce=function(e){var t=Ae(),n=[],a=[],r=function(){for(;n<e.videos.length;)e.videos.forEach((function(e){n.push(e)}));var r;for(r=0;r<n.length;r++)a.push(i.a.createElement(ie.a,{key:n[r].id,className:t.item,item:!0,xs:4,p:0,m:0},i.a.createElement("video",{src:"https://res.cloudinary.com/agregis/video/upload/e_boomerang/eo_1/c_scale,g_south_west,l_logo_transparent_wvrps0,w_144/".concat(n[r].videoUrl,".mp4"),autoPlay:!0,loop:!0,muted:!0,className:t.video})));return a};return i.a.createElement("div",{className:t.root},i.a.createElement(ie.a,{container:!0,item:!0,s:12,p:0,m:0},i.a.createElement(ie.a,{container:!0},i.a.createElement(r,{className:t.row}))))},oe=n(194),le=n(114),ue=n.n(le),se=function(e){return i.a.createElement(i.a.Fragment,null,i.a.createElement(o.b,{to:{pathname:"/edit",user:e.user}},i.a.createElement(G.a,null,i.a.createElement(ue.a,{className:"settingsIcon icon-set"}))))},me=n(115),ge=n.n(me),Ee=n(116),de=n.n(Ee),pe=Object(g.a)({imageIcon:{height:"100%"},iconRoot:{textAlign:"center"}}),be=function(e){var t=pe();return console.log("UserInfo Prop:",e.user),i.a.createElement("div",{className:"user-info"},i.a.createElement("h4",{className:"user-name"},e.user.username),i.a.createElement("img",{src:"https://rb.gy/yecyjb",className:"circle responsive-image userImage",alt:"user-pic"}),i.a.createElement("br",null),i.a.createElement(se,{user:e.user}),i.a.createElement("p",null,e.user.profile.bio),i.a.createElement("p",{className:"ig-url"},i.a.createElement("a",{href:e.user.profile.instagramUrl,target:"_blank",rel:"noopener noreferrer"},i.a.createElement(oe.a,{classes:{root:t.iconRoot}},i.a.createElement("img",{className:t.imageIcon,src:ge.a,alt:"instagram-icon"}))," ",e.user.profile.instagramUrl)),i.a.createElement("a",{href:e.user.profile.personalUrl,target:"_blank",rel:"noopener noreferrer"},i.a.createElement(oe.a,{classes:{root:t.iconRoot}},i.a.createElement("img",{alt:"link-icon",className:t.imageIcon,src:de.a}))," ",e.user.profile.personalUrl),i.a.createElement("br",null),i.a.createElement("br",null))},fe=n(195),Ie=(n(150),n(117),n(65)),he=n.n(Ie);function we(){var e=Object(l.a)(["\nf4 f3-ns w-100 tc"]);return we=function(){return e},e}function ve(){var e=Object(l.a)(["\nf5 f4-ns mb0 white"]);return ve=function(){return e},e}function Ce(){var e=Object(l.a)(["\nw-25 ma2 h4 items-center justify-center flex flex-column flex-wrap"]);return Ce=function(){return e},e}function De(){var e=Object(l.a)(["\nflex flex-wrap content-center justify-center w-100 h-100 bg-blue background-transparent"]);return De=function(){return e},e}he()("div")(De()),he()("div")(Ce()),he()("h3")(ve()),he()("h1")(we()),n(153),n(154);var Oe=function(e){return i.a.createElement("div",{className:"errorDiv"},i.a.createElement("h1",null,"Sorry,"),i.a.createElement("h2",null,"Something Went Wrong:"),i.a.createElement("p",null,e.errorMessage))},Be=function(e){return i.a.createElement(o.b,{className:"btn btn-primary logoutButton",onClick:e.handleLogout,to:"/auth"},"Log-out")},Me=n(118),je=n.n(Me),xe=n(58),Qe=n.n(xe),Se=(n(155),function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement("img",{src:je.a,className:"App-logo",alt:"logo"}))});function Ye(){var e=Object(l.a)(["\n      query User($id: ID!) {\n        user(id: $id) {\n          username\n          profile {\n            bio\n            instagramUrl\n            personalUrl\n          }\n          videos {\n            id\n            videoUrl\n          }\n        }\n      }\n    "]);return Ye=function(){return e},e}function ke(){var e=Object(l.a)(['\n      query User($id: ID!) {\n        user(id: $id, privilegedSecret: "antiTikTok") {\n          username\n          id\n          email\n          birthday\n          name\n          profile {\n            bio\n            instagramUrl\n            personalUrl\n          }\n          videos {\n            id\n            videoUrl\n          }\n        }\n      }\n    ']);return ke=function(){return e},e}var Ge=function(e){var t,n="";return e.user?(e.location.userId?(n=e.location.userId,t=R()(Ye())):(n=e.user._id,t=R()(ke())),i.a.createElement("div",{className:"profile-display"},i.a.createElement(fe.b,{query:t,variables:{id:n},fetchPolicy:"no-cache"},(function(t){var n=t.loading,r=t.error,A=t.data,c=t.refetch;return n?i.a.createElement(Se,null):r?(console.log(r.message),i.a.createElement(Oe,{errorMessage:"Sorry, there's been an error."})):(e.location.triggerRefetch&&c(),i.a.createElement(i.a.Fragment,null,i.a.createElement(Be,{handleLogout:e.handleLogout}),i.a.createElement(be,{user:Object(a.a)({},A.user)}),i.a.createElement(ce,{videos:A.user.videos})))})))):i.a.createElement(s.a,{to:"/auth"})};function ye(){var e=Object(l.a)(["\n      mutation DeleteUser(\n          $id: ID!\n      ) {\n          deleteUser(\n              id: $id\n          )\n      }\n  "]);return ye=function(){return e},e}function Ne(){var e=Object(l.a)(["\n      mutation UpdateUser(\n          $id: ID!\n          $username: String!\n          $email: String!\n          $name: String!\n          $birthday: Date!\n          $profile: userProfile!\n      ) {\n          updateUser(\n              id: $id\n              username: $username\n              email: $email\n              name: $name\n              birthday: $birthday\n              profile: $profile\n          ) {\n              id\n          }\n      }\n  "]);return Ne=function(){return e},e}var Te=Object(g.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(1),width:"25ch"},"& input":{color:"white"},"& input:focus":{borderColor:"#66058c !important"}}}})),Je=function(e){var t=Te(),n=Object(r.useState)(e.location.user.username),a=Object(u.a)(n,2),A=a[0],c=a[1],o=Object(r.useState)(e.location.user.email),l=Object(u.a)(o,2),m=l[0],g=l[1],E=Object(r.useState)(e.location.user.name),d=Object(u.a)(E,2),p=d[0],b=d[1],f=Object(r.useState)(e.location.user.birthday),I=Object(u.a)(f,2),h=I[0],w=I[1],v=Object(r.useState)(!1),C=Object(u.a)(v,2),D=C[0],O=C[1],B=Object(r.useState)(e.location.user.profile.bio),M=Object(u.a)(B,2),j=M[0],S=M[1],Y=Object(r.useState)(e.location.user.profile.instagramUrl),k=Object(u.a)(Y,2),G=k[0],y=k[1],N=Object(r.useState)(e.location.user.profile.personalUrl),T=Object(u.a)(N,2),J=T[0],L=T[1],U=e.location.user.id,F={bio:j,instagramUrl:G,personalUrl:J};if(!e.location.user)return i.a.createElement(s.a,{to:"/"});var z=R()(Ne()),H=R()(ye()),Z=function(){var e=Object(Q.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t&&O(!0);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return D?i.a.createElement(s.a,{to:"/"}):(console.log(e),i.a.createElement("div",{className:"edit-form"},i.a.createElement("h5",null,"Edit your account below:"),i.a.createElement("form",{className:t.root,noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault()}},i.a.createElement("div",null,i.a.createElement("input",{id:"standard-text-input",placeholder:"Username",type:"text",value:A,onChange:function(e){c(e.target.value)}}),i.a.createElement("input",{id:"standard-text-input",placeholder:"Email",type:"email",value:m,onChange:function(e){g(e.target.value)}}),i.a.createElement("input",{id:"standard-text-input",placeholder:"Name",type:"text",value:p,onChange:function(e){b(e.target.value)}}),i.a.createElement("input",{id:"standard-number",placeholder:"Birthdate",type:"date",value:new Date(h).toISOString().substr(0,10),onChange:function(e){w(e.target.value)}}),i.a.createElement("input",{id:"standard-text-input",placeholder:"Your Bio",type:"text",value:j,onChange:function(e){S(e.target.value)}}),i.a.createElement("input",{id:"standard-text-input",placeholder:"Instagram URL",type:"text",value:G,onChange:function(e){y(e.target.value)}}),i.a.createElement("input",{id:"standard-text-input",placeholder:"Personal URL",type:"text",value:J,onChange:function(e){L(e.target.value)}}),i.a.createElement(fe.a,{mutation:z,variables:{username:A,email:m,name:p,birthday:h,profile:F,id:U},onCompleted:function(e){return Z(e)}},(function(e){return i.a.createElement("button",{type:"submit",className:"btn float-right",onClick:e},"Submit")})))),i.a.createElement(fe.a,{mutation:H,variables:{id:U},onCompleted:function(e){return Z(e)}},(function(t){var n=function(){var n=Object(Q.a)(x.a.mark((function n(){return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t();case 2:e.handleLogout();case 3:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return i.a.createElement("button",{type:"submit",className:"btn float-right",onClick:n},"Delete Account")}))))};function Le(){var e=Object(l.a)(["\n      mutation LoginMutation($email: String!, $password: String!) {\n          login(email: $email, password: $password) {\n              token\n          }\n      }\n\t"]);return Le=function(){return e},e}var Ue=Object(g.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(1),width:"25ch"},"& input":{color:"white"},"& input:focus":{borderColor:"#66058c !important"}}}})),Fe=function(e){var t=Object(r.useState)(null),n=Object(u.a)(t,2),a=n[0],A=n[1],c=Ue(),o=Object(r.useState)(""),l=Object(u.a)(o,2),s=l[0],m=l[1],g=Object(r.useState)(""),E=Object(u.a)(g,2),d=E[0],p=E[1],b=R()(Le()),f=function(){var t=Object(Q.a)(x.a.mark((function t(n){var a,r;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=n.login.token,localStorage.setItem(B,a),r=O()(a),e.nowCurrentUser(r);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return i.a.createElement("div",{className:"login-form"},a,i.a.createElement("form",{className:c.root,noValidate:!0,autoComplete:"off",onSubmit:function(e){A(null),e.preventDefault()}},i.a.createElement("div",null,i.a.createElement("input",{type:"text",required:!0,id:"filled-required",placeholder:"Email",value:s,onChange:function(e){m(e.target.value)}}),i.a.createElement("input",{type:"password",required:!0,id:"filled-password-input",placeholder:"Password",value:d,autoComplete:"current-password",onChange:function(e){p(e.target.value)},variant:"filled"}),i.a.createElement(fe.a,{mutation:b,variables:{email:s,password:d},onError:function(e){return function(e){var t=i.a.createElement(Oe,{errorMessage:e.message});A(t)}(e)},onCompleted:function(e){return f(e)}},(function(e){return i.a.createElement("button",{type:"submit",className:"btn btn-primary float-right",onClick:function(){s.includes("@")&&e()}},"Submit")})))))};function Re(){var e=Object(l.a)(["\n      mutation SignupMutation($username: String!, $email: String!, $password: String!, $name: String!, $birthday: Date!) {\n          signup(username: $username, email: $email, password: $password, name: $name, birthday: $birthday) {\n              token\n          }\n      }\n\t"]);return Re=function(){return e},e}var ze=Object(g.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(1),width:"25ch"},"& input":{color:"white"},"& input:focus":{borderColor:"#66058c !important"}}}})),He=function(e){var t=ze(),n=Object(r.useState)(null),a=Object(u.a)(n,2),A=a[0],c=a[1],o=Object(r.useState)(""),l=Object(u.a)(o,2),m=l[0],g=l[1],E=Object(r.useState)(""),d=Object(u.a)(E,2),p=d[0],b=d[1],f=Object(r.useState)(""),I=Object(u.a)(f,2),h=I[0],w=I[1],v=Object(r.useState)(""),C=Object(u.a)(v,2),D=C[0],O=C[1],B=Object(r.useState)(""),M=Object(u.a)(B,2),j=M[0],S=M[1],Y=Object(r.useState)(""),k=Object(u.a)(Y,2),G=k[0],y=k[1],N=Object(r.useState)(!1),T=Object(u.a)(N,2),J=T[0],L=T[1],U={username:m,email:p,password:h,name:j,birthday:G},F=R()(Re()),z=function(){var e=Object(Q.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.signup.token&&L(!0);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return J?i.a.createElement(s.a,{to:"/auth"}):i.a.createElement("div",{className:"register-form"},A,i.a.createElement("form",{className:t.root,noValidate:!0,autoComplete:"off",onSubmit:function(e){c(null),e.preventDefault()}},i.a.createElement("div",null,i.a.createElement("input",{required:!0,id:"standard-text-input",placeholder:"Username",type:"text",value:m,onChange:function(e){g(e.target.value)}}),i.a.createElement("input",{required:!0,id:"standard-text-input",placeholder:"Email",type:"email",value:p,onChange:function(e){b(e.target.value)}}),i.a.createElement("input",{required:!0,id:"standard-text-input",placeholder:"Name",type:"text",value:j,onChange:function(e){S(e.target.value)}}),i.a.createElement("input",{required:!0,id:"standard-number",placeholder:"Birthdate",type:"date",value:G,onChange:function(e){y(e.target.value)}}),i.a.createElement("input",{required:!0,id:"standard-email-input",placeholder:"Password",type:"password",value:h,onChange:function(e){w(e.target.value)}}),i.a.createElement("input",{required:!0,id:"standard-password-input",placeholder:"Confirm Password",type:"password",value:D,onChange:function(e){O(e.target.value)}}),i.a.createElement(fe.a,{mutation:F,variables:U,onError:function(e){return function(e){var t=i.a.createElement(Oe,{errorMessage:"All fields are required"});console.log(e.message),c(t)}(e)},onCompleted:function(e){return z(e)}},(function(e){return i.a.createElement("button",{type:"submit",className:"btn float-right",onClick:function(){h===D&&e()}},"Submit")})))))},Ze=(n(156),function(e){var t=Object(r.useState)(!0),n=Object(u.a)(t,2),a=n[0],A=n[1];return e.user?i.a.createElement(s.a,{to:"/",user:e.user}):i.a.createElement("div",{className:"auth-page"},i.a.createElement("div",{className:"logoDiv"},i.a.createElement("img",{src:Qe.a,alt:"logo"})),i.a.createElement("div",{className:"authFormDiv"},i.a.createElement("div",{className:"btn-group"},i.a.createElement("button",{type:"button",className:"btn btn-primary toggleBtn",onClick:function(){A(!0)}},"Login"),i.a.createElement("button",{type:"button",className:"btn btn-primary toggleBtn",onClick:function(){A(!1)}},"Register")),a?i.a.createElement(Fe,{nowCurrentUser:e.nowCurrentUser,user:e.user}):i.a.createElement(He,null)),i.a.createElement("div",{className:"appInfo"},i.a.createElement("p",null,"Uphoria is designed to be a non intrusive, non tracking short form content site.")))});n(157);function We(){var e=Object(l.a)(["\n      mutation($description: String!, $file: Upload!, $userId: ID!) {\n          createVideo(description: $description, file: $file, userId: $userId)\n      }\n  "]);return We=function(){return e},e}var Pe=function(e){var t=Object(r.useState)(null),n=Object(u.a)(t,2),a=n[0],A=n[1],c=Object(r.useState)(""),o=Object(u.a)(c,2),l=o[0],m=o[1],g=Object(r.useState)(null),E=Object(u.a)(g,2),d=E[0],p=E[1],b=Object(r.useState)(!1),f=Object(u.a)(b,2),I=f[0],h=f[1],w=Object(r.useState)(!1),v=Object(u.a)(w,2),C=v[0],D=v[1],O=e.userId,B=R()(We()),M={description:l,file:d,userId:O};return C?i.a.createElement(Se,null):I?i.a.createElement(s.a,{to:{pathname:"/profile",triggerRefetch:!0}}):i.a.createElement("div",{className:"upload-component"},i.a.createElement("div",{className:"logoDiv"},i.a.createElement("img",{src:Qe.a,alt:"uphoria logo"})),i.a.createElement("h2",null,"Upload your content here"),a,i.a.createElement("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault()}},i.a.createElement("input",{type:"text",name:"description",value:l,onChange:function(e){m(e.target.value)},placeholder:"write your description"}),i.a.createElement("input",{type:"file",accept:"video/mp4,video/x-m4v,video/*",className:"file-btn",name:"uphoriaVideo",onChange:function(e){var t=e.target,n=t.validity,a=Object(u.a)(t.files,1)[0];n.valid&&p(a)}}),i.a.createElement(fe.a,{mutation:B,variables:M,onCompleted:function(e){return function(e){e&&(A(null),h(!0),D(!1))}(e)},onError:function(e){return function(e){var t=i.a.createElement(Oe,{errorMessage:e.message});A(t)}(e)}},(function(e){return i.a.createElement("button",{type:"submit",className:"btn float-right",onClick:function(){d&&(D(!0),e())}},"Submit")}))))};function Ve(){var e=Object(l.a)(["\n      {\n        videos {\n          id\n          description\n          userId {\n            id\n            username\n          }\n          videoUrl\n          likes\n          shares\n        }\n      }\n    "]);return Ve=function(){return e},e}var Xe=function(e){var t=Object(r.useState)(""),n=Object(u.a)(t,2),a=n[0],A=n[1],c=R()(Ve());Object(r.useEffect)((function(){var e;localStorage.getItem(B)&&(e=O()(localStorage.getItem(B)),console.log("DECODING PROCESS:",e),A(e))}),[]);var o=function(e){console.log("New Current User Set:",e),A(e)},l=function(){return localStorage.getItem(B)&&(localStorage.removeItem(B),A(null)),i.a.createElement(s.a,{to:"/auth"})};return i.a.createElement("div",{className:"App"},i.a.createElement(s.d,null,i.a.createElement(s.b,{exact:!0,path:"/",render:function(){return i.a.createElement(fe.b,{query:c,fetchPolicy:"no-cache"},(function(e){var t=e.loading,n=e.error,r=e.data;e.refetch;return t?i.a.createElement(Se,null):n?i.a.createElement(Oe,{errorMessage:n.message}):r.videos.map((function(e){return i.a.createElement(re,{key:e.id,video:e,currentUser:a})}))}))}}),i.a.createElement(s.b,{exact:!0,path:"/auth",render:function(e){return i.a.createElement(Ze,Object.assign({},e,{nowCurrentUser:o,user:a}))}}),i.a.createElement(s.b,{path:"/profile",render:function(e){return i.a.createElement(Ge,Object.assign({},e,{user:a,handleLogout:l}))}}),i.a.createElement(s.b,{path:"/create",render:function(){return i.a.createElement(Pe,{userId:a._id})}}),i.a.createElement(s.b,{path:"/edit",render:function(e){return i.a.createElement(Je,Object.assign({},e,{handleLogout:l}))}}),i.a.createElement(s.b,{path:"*",component:Oe})),i.a.createElement(C,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var $e=n(18),Ke=n(46),_e=n(34),qe=n(122),et=n(121),tt=n(119),nt=n(120),at=Object(tt.a)((function(e){var t=e.graphQLErrors,n=e.networkError;t&&console.log("graphQLErrors",t),n&&console.log("networkError",n)})),rt=Object(nt.a)({uri:"https://uphoria-api.herokuapp.com/graphql/"}),it=Object(et.a)((function(e,t){var n=t.headers,r=localStorage.getItem(B);return{headers:Object(a.a)(Object(a.a)({},n),{},{authorization:r?"Bearer ".concat(r):""})}})),At=_e.a.from([at,it.concat(rt)]),ct=new Ke.a({link:At,cache:new qe.a});c.a.render(i.a.createElement(o.a,null,i.a.createElement($e.a,{client:ct},i.a.createElement(Xe,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},58:function(e,t,n){e.exports=n.p+"static/media/logo.d219630e.png"},87:function(e,t,n){e.exports=n.p+"static/media/unmute.eedb3ea7.png"},94:function(e,t,n){}},[[131,1,2]]]);
//# sourceMappingURL=main.4f1a1b61.chunk.js.map